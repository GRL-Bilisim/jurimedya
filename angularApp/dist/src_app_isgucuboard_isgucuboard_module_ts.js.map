{"version":3,"file":"src_app_isgucuboard_isgucuboard_module_ts.js","mappings":"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","sources":["./src/app/isgucuboard/crud-modal/crud-modal.component.ts","./src/app/isgucuboard/crud-modal/crud-modal.component.html","./src/app/isgucuboard/isgucuboard-routing.module.ts","./src/app/isgucuboard/isgucuboard.component.ts","./src/app/isgucuboard/isgucuboard.component.html","./src/app/isgucuboard/isgucuboard.model.ts","./src/app/isgucuboard/isgucuboard.module.ts","./src/app/isgucuboard/isgucuboard.service.ts"],"sourcesContent":["import { Component, Output, EventEmitter, Input, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'app-crud-modal',\r\n  templateUrl: './crud-modal.component.html',\r\n  styleUrls: ['./crud-modal.component.scss']\r\n})\r\nexport class CrudModalComponent implements OnInit{\r\n\r\n  @Input() id: number;\r\n  @Input() data: {};\r\n  myForm: FormGroup;\r\n  constructor(\r\n   public activeModal: NgbActiveModal,\r\n   private formBuilder: FormBuilder\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.buildItemForm(this.data);\r\n  }\r\n\r\n  private buildItemForm(item) {\r\n    this.myForm = this.formBuilder.group({\r\n      title: [item.title || '', Validators.required],\r\n      message: [item.message || '', Validators.required],\r\n   \r\n    });\r\n  }\r\n  submitForm() {\r\n    this.activeModal.close(this.myForm.value);\r\n  }\r\n\r\n}\r\n","<div class=\"modal-header\">\r\n  <h4 class=\"modal-title\"> {{ id != 0 ? 'Görev Önizleme' : 'Create Task'}} </h4>\r\n  <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\r\n    x\r\n  </button>\r\n</div>\r\n<form [formGroup]=\"myForm\" (ngSubmit)=\"submitForm()\">\r\n  <div class=\"modal-body taskboard-modal\">\r\n    <div class=\"container\">\r\n      <fieldset class=\"form-group position-relative has-icon-left\">\r\n        <div class=\"form-control-position\">\r\n          <i class=\"ft-edit-2\"></i>\r\n        </div>\r\n        <input readonly type=\"text\" [formControl]=\"myForm.controls['title']\" formControlName=\"title\" class=\"form-control\"\r\n          id=\"todoTitle\" placeholder=\"Title\" (keydown.enter)=\"$event.preventDefault()\" required #todoTitle>\r\n        <div class=\"form-control-position control-position-right\">\r\n          <i class=\"ft-edit-2\"></i>\r\n        </div>\r\n      </fieldset>\r\n      <fieldset class=\"form-group position-relative has-icon-left\">\r\n        <div class=\"form-control-position\">\r\n          <i class=\"ft-message-square\"></i>\r\n        </div>\r\n        <textarea readonly [formControl]=\"myForm.controls['message']\" formControlName=\"message\" class=\"form-control\"\r\n          id=\"todoMessage\" placeholder=\"Message\" (keydown.enter)=\"$event.preventDefault()\" required #todoMessage>\r\n        <div class=\"form-control-position control-position-right\">\r\n          <i class=\"ft-message-square\"></i>\r\n        </div>\r\n      </textarea>\r\n      </fieldset>\r\n      <!-- <fieldset class=\"form-group position-relative has-icon-left\">\r\n        <div class=\"form-control-position\">\r\n          <i class=\"ft-grid\"></i>\r\n        </div>\r\n        <select [formControl]=\"myForm.controls['type']\" formControlName=\"type\" class=\"form-control\" >\r\n          <option>Marketing</option>\r\n          <option>UI-Designing</option>\r\n          <option>Developing</option>\r\n          <option>Management</option>\r\n        </select>\r\n        <div class=\"form-control-position control-position-right\">\r\n          <i class=\"ft-grid\"></i>\r\n        </div>\r\n      </fieldset> -->\r\n    </div>\r\n  </div>\r\n  <!-- <div class=\"modal-footer taskboard-modal-footer\">\r\n    <button class=\"btn btn-primary btn-save\">\r\n      {{ id != 0 ? 'Update' : 'Create'}}\r\n    </button>\r\n  </div> -->\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IsGucuBoardComponent } from './isgucuboard.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n     component: IsGucuBoardComponent,\r\n    data: {\r\n      title: 'İş Gücü'\r\n    },\r\n    \r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class IsGucuBoardRoutingModule { }","import { Component, ViewEncapsulation, ViewChild, ElementRef, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { NgbModal, ModalDismissReasons, NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport * as swalFunctions from '../shared/data/sweet-alerts';\r\nimport swal from 'sweetalert2';\r\n\r\nimport { IsGucuBoardService } from './isgucuboard.service';\r\nimport { Task } from './isgucuboard.model';\r\nimport { DragulaService } from 'ng2-dragula';\r\nimport { HttpClient } from '@angular/common/http';\r\ndeclare var $: any; \r\n\r\n@Component({\r\n  selector: 'app-isgucuboard',\r\n  templateUrl: './isgucuboard.component.html',\r\n  styleUrls: ['./isgucuboard.component.scss'],\r\n  providers: [IsGucuBoardService],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class IsGucuBoardComponent {\r\n\r\n  @ViewChild('marketingTitle') titleInputRef: ElementRef;\r\n  @ViewChild('marketingMessage') messageInputRef: ElementRef;\r\n  currentDate = new Date();\r\n\r\n  swal =  swalFunctions;\r\nterm:any;\r\n  BAG = \"task-group\";\r\n  ismerkezleri = [];\r\n\r\nSERVER_URL:any;\r\n\r\n  tasks: Task[];\r\n  adi:any=localStorage.getItem('adi');\r\n  closeResult: string;\r\n  ilgilidepartman:any[];\r\n  selectedPer:any;\r\n  cities:Array<{id: string, name: string,field:string}>[] = []; \r\n  blokalanlari: any;\r\n  Merkezlistesi: { id: string; name: string; }[];\r\n  viewInterval: any;\r\n\r\n  constructor(private dragulaService: DragulaService, private elRef: ElementRef,\r\n     private taskBoardService: IsGucuBoardService, private modalService: NgbModal,\r\n     private ref: ChangeDetectorRef,private http: HttpClient) {\r\n    \r\n\r\n   \r\n\r\n\r\n      const taskUrl = localStorage.getItem('url') + \"angular/dataservis.php?page_id=formgetir&formid=407\";\r\n\r\n      this.http.get<any>(taskUrl).subscribe(data => {\r\n        this.tasks=data;\r\n        this.loadTasks();\r\n      });\r\n  \r\n    dragulaService.drop(this.BAG)\r\n      .subscribe(({ el, target }) => {\r\n     \r\n        this.updateTaskStatus(el.getAttribute('task-id'), target.id)\r\n      });\r\n  }\r\n\r\n  yenidenyukle()\r\n  {\r\n  \r\n\r\n    const taskUrl = localStorage.getItem('url') + \"angular/dataservis.php?page_id=formgetir&formid=407\";\r\n\r\n    this.http.get<any>(taskUrl).subscribe(data => {\r\n      this.tasks=data;\r\n      this.loadTasks();\r\n    });\r\n\r\n\r\n  }\r\n\r\n\r\n  loadTasks() {\r\n    //  this.marketingTasks = this.tasks.filter((task: Task) => task.status === 'Atandı');\r\n    this.ref.markForCheck();\r\n  }\r\n\r\n  \r\n\r\n  ngOnInit() {\r\n\r\n   \r\n    this.SERVER_URL=localStorage.getItem('url') + \"angular/dataservis.php?page_id=formgetir&formid=237\";\r\n\r\n    this.http.get<any>(this.SERVER_URL).subscribe(data => {\r\n    this.blokalanlari=data;\r\n\r\n    for(var i=0;i<this.blokalanlari.length;i++)\r\n    {\r\n    \r\n     var cities_psh2: Array<{ id: string, name: string }> = [];\r\n    cities_psh2 = [];\r\n\r\n    for (var j = 0; j < this.blokalanlari.length; j++) {\r\n      cities_psh2.push({ id: this.blokalanlari[j].id, name: this.blokalanlari[j].masraf_merkezi_adi });\r\n    }\r\n\r\n\r\n    this.Merkezlistesi = cities_psh2;\r\n\r\n    }\r\n\r\n\r\n  \r\n    });\r\n\r\n  \r\n  \r\n  \r\n  }\r\n\r\n  onChange(event){\r\n      \r\n   const departUrl = localStorage.getItem('url') + \"angular/dataservis.php?page_id=formgetir&formid=236&masrafmerkezi=\"+event.name;\r\n   this.http.get<any>(departUrl).subscribe(data => {\r\n     this.ismerkezleri=data;\r\n     this.ref.markForCheck();\r\n\r\n   });\r\n    }\r\n\r\n \r\n\r\n  updateTaskStatus(id: string, merkez: string, task?: Task) {\r\n\r\n    let currentTask: Task;\r\n\r\n    if (task) {\r\n      currentTask = task;\r\n    }\r\n    else {\r\n      currentTask = this.tasks.find(x => x.id == +id);\r\n     console.log(currentTask);\r\n    }\r\n\r\n\r\n    // dizinin kaçıncı elemanı olduğunu alıyor\r\n    let index = this.tasks.indexOf(currentTask);\r\n    this.tasks.splice(index, 1, currentTask);\r\n    \r\n\r\n    const isistasyonGuncelle=localStorage.getItem('url') + \"angular/dataservis.php?page_id=perMerkezGuncelle&personelid=\"+currentTask.id+\"&isistasyonu=\"+merkez;\r\n    \r\n    console.log(isistasyonGuncelle);\r\n    this.http.get<any>(isistasyonGuncelle).subscribe(data=>{\r\n      if(data[0].status=='OK'){\r\n        swal.fire({\r\n          icon: \"success\",\r\n          title: 'İş İstasyonu Değiştirildi',\r\n          text: 'Personelin çalıştığı iş istasyonu değiştirildi.',\r\n          customClass: {\r\n            confirmButton: 'btn btn-success'\r\n          },\r\n        });\r\n        this.yenidenyukle();\r\n      }else{\r\n        swal.fire({\r\n          icon: \"warning\",\r\n          title: 'İş İstasyonu Değiştirilemedi',\r\n          text: 'Personelin çalıştığı iş istasyonu değiştirilemedi.',\r\n          customClass: {\r\n            confirmButton: 'btn btn-warning'\r\n          },\r\n        });\r\n        this.yenidenyukle();\r\n      }\r\n    });\r\n\r\n\r\n    this.loadTasks();\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n}\r\n","<!-- Taskboard Starts -->\r\n<section id=\"taskboard\" class=\"app-taskboard\">\r\n  <div class=\"row\">\r\n  \r\n    <div class=\"col-3\">\r\n      <div class=\"form-group mb-2\">\r\n        <label for=\"basic-form-1\">PERSONEL FİLTRESİ</label>\r\n      \r\n        <ng-select \r\n                  (change)=\"onChange($event)\"\r\n                  [(ngModel)]=\"selectedPer\"\r\n                   [items]=\"Merkezlistesi\" \r\n                   bindLabel=\"name\" \r\n                   bindValue=\"id\"  placeholder=\"İş Merkezleri\" style=\"font-size: 14px;\">\r\n        </ng-select>\r\n      </div>\r\n    </div>\r\n    <!-- <div class=\"col-3\">\r\n      <div class=\"form-group mb-2\">\r\n        <label for=\"basic-form-1\">DEPARTMAN FİLTRESİ</label>\r\n      \r\n        <ng-select multiple=\"true\" (change)=\"yenidenyukle()\"  [items]=\"cities[2316]\" bindLabel=\"name\" id=\"ilgilidepartman\"  bindValue=\"id\" [closeOnSelect]=\"true\" name=\"ilgilidepartman\" [(ngModel)]=\"ilgilidepartman\">\r\n        \r\n       \r\n        </ng-select>\r\n      </div>\r\n    </div> -->\r\n    <!-- <div class=\"col-3\">\r\n      \r\n      <ng-select   (change)=\"onChange($event)\" [items]=\"departman\"\r\n      bindLabel=\"departmanad\"\r\n      placeholder=\"Filtrele\"\r\n      [(ngModel)]=\"selectedDep\">\r\n</ng-select>\r\n    </div> -->\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n\r\n\r\n    <div class=\"col-xl-3 col-md-3 col-sm-6 col-12\" *ngFor=\"let dep of ismerkezleri\">\r\n      <h5 class=\"mt-2 mb-0\">\r\n        <span class=\"d-flex align-items-center\">\r\n          <i class=\"ft-cast mr-2\"></i>\r\n          <span>{{dep.is_merkezi_adi}}</span>\r\n        </span>\r\n        \r\n        <span>\r\n            <div class=\"form-group form-inline\">\r\n              <input  class=\"form-control ml-2 mt-2\"    type=\"text\" name=\"search_{{dep.id}}\" [id]=\"dep.id\" placeholder=\"Aranacak Personel\" [(ngModel)]=\"dep.masraf_merkezi_adi\" />\r\n            </div>\r\n          </span>\r\n\r\n      </h5>\r\n      <div class='dragdrop-container scrollbarDiv' [dragula]='\"task-group\"' id=\"{{dep.is_merkezi_adi}}\" [dragulaModel]='marketingTasks'>\r\n    <ng-container *ngFor='let task of tasks | filter:dep.masraf_merkezi_adi' >\r\n\r\n  <div class=\"card mb-3\" *ngIf=\"dep.is_merkezi_adi==task.istasyon\"  [attr.task-id]=\"task.id\">\r\n    <div class=\"card-body \"   >\r\n      <div class=\"d-flex justify-content-center mb-2\">\r\n        <span style=\"white-space: normal;\" class=\"badge bg-light-{{task.badgeClass}}\">{{task.adi_soyadi}} <br><small>{{task.vardiyaaciklamasi}}</small></span>\r\n        \r\n      </div>\r\n      <p class=\"text-center\">{{task.unvani}}</p>\r\n\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</section>\r\n<!-- Taskboard Ends -->\r\n","export class Task {\r\n    public UserID: number;\r\n    public id: number;\r\n    public istasyon:string;\r\n\r\n\r\n    constructor(id:number,UserID: number,istasyon:string) {\r\n      this.id=id;\r\n      this.UserID = UserID;\r\n      this.istasyon=istasyon;\r\n    }\r\n  }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\r\n\r\nimport { DragulaModule } from 'ng2-dragula';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IsGucuBoardRoutingModule } from \"./isgucuboard-routing.module\";\r\n\r\nimport { IsGucuBoardComponent } from \"./isgucuboard.component\";\r\nimport { CrudModalComponent } from './crud-modal/crud-modal.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        Ng2SearchPipeModule,\r\n        IsGucuBoardRoutingModule,\r\n        DragulaModule.forRoot(),\r\n        FormsModule,\r\n        NgSelectModule,\r\n        ReactiveFormsModule,\r\n        NgbModule\r\n    ],\r\n    declarations: [\r\n        IsGucuBoardComponent,\r\n        CrudModalComponent\r\n    ]\r\n})\r\nexport class IsGucuBoardModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { Task } from './isgucuboard.model';\r\nimport { Observable, of } from 'rxjs';\r\nimport { delay } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class IsGucuBoardService {\r\n\r\n  constructor() { }\r\n\r\n  public tasks: Task[] = [\r\n    new Task( \r\n      1,\r\n      1,\r\n      'D'\r\n      \r\n      )\r\n    \r\n  ];\r\n\r\n\r\n  addNewTask(title: string, message: string, type: string) {\r\n\r\n  \r\n\r\n    let task: Task = {\r\n      id:1,\r\n      UserID: Math.round(Math.random() * 10000000000),\r\n      istasyon:'D',\r\n  \r\n    }\r\n    this.tasks.unshift(task);\r\n    return of(this.tasks.slice()).pipe(delay(100));\r\n\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}