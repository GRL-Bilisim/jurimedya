{"version":3,"file":"src_app_chat-ngrx_chat-ngrx_module_ts.js","mappings":"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","sources":["./src/app/chat-ngrx/chat-ngrx-routing.module.ts","./src/app/chat-ngrx/chat-ngrx.component.ts","./src/app/chat-ngrx/chat-ngrx.component.html","./src/app/chat-ngrx/chat-ngrx.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ChatComponent } from './chat-ngrx.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: ChatComponent,\r\n        data: {\r\n            title: 'Chat'\r\n        },\r\n\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule],\r\n})\r\nexport class ChatNGRXRoutingModule { }\r\n\r\nexport const routedComponents = [ChatComponent];","import { Component, ViewChild, ElementRef, OnInit, ChangeDetectionStrategy, Renderer2, OnDestroy, Inject, ChangeDetectorRef } from '@angular/core';\r\nimport { Chat, UsersChat } from './chat-ngrx.model';\r\n\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport * as ChatActions from './store/chat.actions';\r\nimport * as fromApp from '../store/app.reducer';\r\nimport { ConfigService } from 'app/shared/services/config.service';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { ActivatedRoute } from '@angular/router';\r\n@Component({\r\n  selector: 'app-ngrx-chat',\r\n  templateUrl: './chat-ngrx.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./chat-ngrx.component.scss']\r\n})\r\nexport class ChatComponent implements OnInit, OnDestroy {\r\n\r\n  chats: Chat[] = [];\r\n  users:any;\r\n  activeChat: UsersChat;\r\n  usersChat: UsersChat[] = [];\r\n  activeChatUser: string;\r\n  activeChatUserImg: string;\r\n  loggedInUserImg: string;\r\n  newMessage = \"\";\r\n  searchQuery: string = '';\r\n  placement = \"bottom-right\";\r\n  isContentOverlay = false;\r\n  subscription: Subscription;\r\n  public urlid = this.route.snapshot.paramMap.get('id');\r\n  public config: any = {};\r\n  layoutSub: Subscription;\r\n\r\n  messages = new Array();\r\n  item: number = 0;\r\n  constructor(private route: ActivatedRoute,private http: HttpClient,private elRef: ElementRef, private renderer: Renderer2,\r\n    @Inject(DOCUMENT) private document: Document,\r\n    private configService: ConfigService, private cdr: ChangeDetectorRef,\r\n    private store: Store<fromApp.AppState>) {\r\n      \r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.config = this.configService.templateConf;\r\n\r\n\r\n    this.users = localStorage.getItem('url') +\"angular/dataservis.php?page_id=hastalarigetir\";\r\n\r\n    this.http.get<any>(this.users).subscribe(data => {\r\n      this.usersChat = data;\r\n\r\n        var filterData = data.filter(a => a.user_indeks == this.urlid);\r\n        this.viewChat(filterData, this.urlid);\r\n        this.activeChatUser = filterData[0].caritanimi;\r\n        this.activeChatUserImg = filterData[0].profilresim;\r\n\r\n\r\n    \r\n\r\n\r\n    });\r\n\r\n    this.subscription = this.store\r\n      .select('chat')\r\n      .subscribe(data => {\r\n        this.usersChat = data.usersChat;\r\n        this.activeChat = data.usersChat.find(_ => _.isActiveChat);\r\n        this.chats = this.activeChat ? this.activeChat.chats : [];\r\n        this.activeChatUser = this.activeChat ? this.activeChat.name : '';\r\n        this.activeChatUserImg = this.activeChat ? this.activeChat.avatar : '';\r\n        this.loggedInUserImg = \"assets/img/portrait/small/avatar-s-1.png\"\r\n      });\r\n\r\n    this.renderer.addClass(this.document.body, \"chat-application\");\r\n\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n    if (this.layoutSub) {\r\n      this.layoutSub.unsubscribe();\r\n    }\r\n\r\n    this.renderer.removeClass(this.document.body, \"chat-application\");\r\n  }\r\n\r\n  onSidebarToggle() {\r\n    this.isContentOverlay = true;\r\n  }\r\n\r\n  onContentOverlay() {\r\n    this.isContentOverlay = false;\r\n  }\r\n\r\n  //send button function calls\r\n  onAddMessage() {\r\n\r\n    if (this.newMessage != \"\") {\r\n\r\n      const newChat = new UsersChat(\r\n\r\n        this.activeChat.userId,\r\n        this.activeChat.index,\r\n        this.activeChat.name,\r\n        this.activeChat.avatar,\r\n        this.activeChat.lastChatTime,\r\n        this.activeChat.status,\r\n        this.activeChat.isPinnedUser,\r\n        this.activeChat.isMuted,\r\n        this.activeChat.unreadMessageCount,\r\n        this.activeChat.isActiveChat,\r\n        this.activeChat.lastChatMessage,\r\n        this.activeChat.chats.concat({\r\n          isReceived: false,\r\n          time: \"\",\r\n          messages: [this.newMessage],\r\n          messageType: 'text'\r\n        })\r\n      );\r\n      this.store.dispatch(new ChatActions.AddChat({\r\n        index: newChat.index,\r\n        newChat: newChat\r\n      })\r\n      );\r\n    }\r\n    this.newMessage = \"\";\r\n  }\r\n\r\n  viewChat(chat: UsersChat,id) {\r\n\r\n    let allChats = [...this.usersChat];\r\n\r\n    let deactivateChat: UsersChat;\r\n\r\n    allChats.forEach(thisChat => {\r\n      if (thisChat.userId === this.activeChat.userId) {\r\n\r\n        deactivateChat = new UsersChat(\r\n          thisChat.userId,\r\n          thisChat.index,\r\n          thisChat.name,\r\n          thisChat.avatar,\r\n          thisChat.lastChatTime,\r\n          thisChat.status,\r\n          thisChat.isPinnedUser,\r\n          thisChat.isMuted,\r\n          thisChat.unreadMessageCount,\r\n          false,\r\n          thisChat.lastChatMessage,\r\n          thisChat.chats\r\n        );\r\n      }\r\n    });\r\n\r\n    const activeNewChat = new UsersChat(\r\n      chat.userId,\r\n      chat.index,\r\n      chat.name,\r\n      chat.avatar,\r\n      chat.lastChatTime,\r\n      chat.status,\r\n      chat.isPinnedUser,\r\n      chat.isMuted,\r\n      chat.unreadMessageCount,\r\n      true,\r\n      chat.lastChatMessage,\r\n      chat.chats\r\n    );\r\n\r\n    [new ChatActions.AddChat({\r\n      index: deactivateChat.index,\r\n      newChat: deactivateChat\r\n    }), new ChatActions.AddChat({\r\n      index: activeNewChat.index,\r\n      newChat: activeNewChat\r\n    })].forEach(action => this.store.dispatch(action));\r\n\r\n    this.isContentOverlay = false;\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"chat-application overflow-hidden\">\r\n  <div #contentOverlay class=\"app-content-overlay\" [ngClass]=\"{show: isContentOverlay}\" (click)=\"onContentOverlay()\"></div>\r\n  <div [perfectScrollbar] #chatSidebar class=\"chat-sidebar d-md-block\">\r\n    <span class=\"sidebar-close-icon d-md-none\" (click)=\"isContentOverlay = false\">\r\n      <i class=\"ft-x\"></i>\r\n    </span>\r\n    <div class=\"chat-sidebar-content\">\r\n      <div class=\"chat-fixed-search py-2 px-3 my-1\">\r\n        <form action=\"javascript:;\">\r\n          <div class=\"position-relative has-icon-left\">\r\n            <input class=\"form-control\" placeholder=\"Hasta ArayÄ±n...\" id=\"timesheetinput1\" name=\"employeename\" type=\"text\"\r\n              [(ngModel)]=\"searchQuery\">\r\n            <div class=\"form-control-position\">\r\n              <i class=\"ft-user\"></i>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <hr class=\"m-0\">\r\n      <div id=\"users-list\" class=\"list-group\">\r\n        <div class=\"users-list-padding position-relative\">\r\n\r\n          <a class=\"list-group-item \" [ngClass]=\"{'selected-chat': user.isActiveChat}\"\r\n            *ngFor=\"let user of usersChat | search:'name':searchQuery\" (click)=\"viewChat(user)\">\r\n            <div class=\"media py-1\" [ngClass]=\"{'align-items-center': !user.isActiveChat}\">\r\n              <span class=\"avatar avatar-md mr-2\">\r\n                <img [src]=\"user.avatar\" alt=\"Avatar\">\r\n                <span class=\"avatar-status-{{user.status}}\"></span>\r\n                <i></i>\r\n              </span>\r\n              <div class=\"media-body\">\r\n                <h6 class=\"list-group-item-heading mb-1\">{{user.name}}\r\n                  <span class=\"font-small-2 float-right chat-time\">{{user.lastChatTime}}</span>\r\n                </h6>\r\n                <p class=\"list-group-item-text chat-user-list-text m-0\">\r\n                  <i class=\"ft-check primary font-small-2 mr-1\"></i><span>{{user.lastChatMessage}}</span>\r\n                  <span class=\"float-right primary\">\r\n                    <i class=\"font-medium-1 icon-pin\" *ngIf=\"user.isPinnedUser\"></i>\r\n                    <i class=\"font-medium-1 icon-volume-off mr-1\" *ngIf=\"user.isMuted\"></i>\r\n                    <span class=\"badge badge-pill bg-light-primary badge-round\"\r\n                      *ngIf=\"user.unreadMessageCount != '' \">{{user.unreadMessageCount}}</span>\r\n                  </span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"chat-name p-2\">\r\n    <div class=\"media p-1 align-items-center\">\r\n      <span class=\"chat-app-sidebar-toggle ft-menu font-medium-4 mr-3 d-block d-md-none\"\r\n        (click)=\"onSidebarToggle()\"></span>\r\n      <div class=\"media-body\">\r\n        <img [src]=\"activeChatUserImg\" width=\"37\" class=\"avatar mr-1\" alt=\"avatar\">\r\n        <span>{{ activeChatUser }}</span>\r\n      </div>\r\n      <div class=\"position-relative float-right\">\r\n        <div ngbDropdown display=\"dynamic\" [placement]=\"placement\" class=\"d-inline-block\">\r\n          <i class=\"ft-more-vertical- mt-1 dropdown-toggle\" id=\"chatOptions\" ngbDropdownToggle></i>\r\n          <div ngbDropdownMenu aria-labelledby=\"chatOptions\">\r\n            <a href=\"javascript:;\" class=\"dropdown-item\">View Profile</a>\r\n            <a href=\"javascript:;\" class=\"dropdown-item\">Mute Notification</a>\r\n            <a href=\"javascript:;\" class=\"dropdown-item\">Clear Chat</a>\r\n            <a href=\"javascript:;\" class=\"dropdown-item\">Add Shortcut</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <section class=\"chat-app-window position-relative\" [perfectScrollbar] #scrollMe [scrollTop]=\"scrollMe.scrollHeight\">\r\n    <div class=\"chats\">\r\n      <div class=\"chat\" [ngClass]=\"{'chat-left': chat.isReceived}\" *ngFor=\"let chat of chats\">\r\n        <div class=\"chat-avatar\">\r\n          <a class=\"avatar avatar-md\" data-toggle=\"tooltip\" data-placement=\"[activeChatUserImg]\" title=\"\"\r\n            data-original-title=\"\">\r\n            <img [src]=\"chat.isReceived ? activeChatUserImg : loggedInUserImg\" alt=\"avatar\">\r\n          </a>\r\n        </div>\r\n        <div class=\"chat-body\">\r\n          <div class=\"chat-content\" *ngFor=\"let message of chat.messages\">\r\n            <p *ngIf=\"chat.messageType === 'text'\">{{ message }}</p>\r\n          </div>\r\n        </div>\r\n        <p class=\"time\" *ngIf=\"chat.time !='' \"> <span class=\"badge badge-secondary mb-1\">{{chat.time}}</span></p>\r\n\r\n        <div class=\"chat\" *ngIf=\"messages.length > 0\">\r\n          <div class=\"chat-avatar\">\r\n            <a class=\"avatar\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"\" data-original-title=\"\">\r\n              <img src=\"assets/img/portrait/small/avatar-s-1.png\" alt=\"avatar\">\r\n            </a>\r\n          </div>\r\n          <div class=\"chat-body\">\r\n            <div class=\"chat-content\" *ngFor=\"let message of messages\">\r\n              <p>{{ message }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <section class=\"chat-app-form px-3 py-2\">\r\n    <div class=\"d-flex align-items-center\">\r\n      <input type=\"text\" name=\"iconLeft4\" class=\"form-control chat-message-send mr-2\" id=\"iconLeft4\"\r\n        placeholder=\"Type your message here\" (keydown.enter)=\"onAddMessage();$event.preventDefault()\"\r\n        [(ngModel)]=\"newMessage\" #it=\"ngModel\">\r\n      <button type=\"button\" class=\"btn btn-primary d-lg-flex align-items-center\" (click)=\"onAddMessage()\">\r\n        <i class=\"ft-send\"></i>\r\n        <span class=\"d-none d-lg-block ml-1\">Send</span>\r\n      </button>\r\n    </div>\r\n  </section>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule } from '@angular/forms';\r\nimport { StoreModule } from '@ngrx/store';\r\n\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { ChatNGRXRoutingModule } from \"./chat-ngrx-routing.module\";\r\nimport { PipeModule } from 'app/shared/pipes/pipe.module';\r\n\r\nimport { ChatComponent } from \"./chat-ngrx.component\";\r\nimport { chatReducer } from '../chat-ngrx/store/chat.reducers';\r\n\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        ChatNGRXRoutingModule,\r\n        NgbModule,\r\n        PerfectScrollbarModule,\r\n        PipeModule,\r\n        StoreModule.forFeature('chat', chatReducer),\r\n    ],\r\n    declarations: [\r\n        ChatComponent\r\n    ]\r\n})\r\nexport class ChatNGRXModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}